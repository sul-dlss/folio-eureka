apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-db-credentials
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/db-credentials
  # dest k8s secret
  destination:
    name: db-credentials
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-eureka-common
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/eureka-common
  # dest k8s secret
  destination:
    name: eureka-common
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-eureka-edge
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/eureka-edge
  # dest k8s secret
  destination:
    name: eureka-edge
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-kafka-credentials
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/kafka-credentials
  # dest k8s secret
  destination:
    name: kafka-credentials
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-keycloak-credentials
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/keycloak-credentials
  # dest k8s secret
  destination:
    name: keycloak-credentials
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-kong-credentials
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/kong-credentials
  # dest k8s secret
  destination:
    name: kong-credentials
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-opensearch-credentials
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/opensearch-credentials
  # dest k8s secret
  destination:
    name: opensearch-credentials
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-s3-credentials
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/s3-credentials
  # dest k8s secret
  destination:
    name: s3-credentials
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vault-kv-folio-vault
  namespace: folio-test
spec:
  type: kv-v2
  mount: puppet
  # path of the secret
  path: application/folio-k8s/folio-test/folio-vault
  # dest k8s secret
  destination:
    name: folio-vault
    create: true
    overwrite: true
  # static secret refresh interval
  refreshAfter: 10m
